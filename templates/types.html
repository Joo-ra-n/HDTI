{% extends 'base.html' %}

{% block title %} 해달 MBTI 전체결과 {% endblock %}

{% block content %}
    <div class="charger-wrap">
    </div>
    <img class="result-title__info" src="../static/img/haedal_title.svg" alt="title">
    <p class="result-title">다른 개발자들의 유형은?</p>
    <form method="POST" action="/result">
        <div class="result-all-wrap">
            <input type="text" id="typeInput" name="typeInput" hidden>
            {% for i in range (16) %}
            <button class="type-btn">
                <div class="types">
                    <div class="type" id={{i}} >{{typeslist[i]}}</div>
                    <div class="explain" id={{i}}>{{explainlist[i]|safe}}</div>
                </div>
            </button>
            {% endfor %}
        </div>
    </form>
    <div class="result-btns">
        <img id="upBtn" class="result-btn up-btn" src="../static/img/윗쪽화살표_빨강.svg" alt="버튼">
        <img id="rightBtn" class="result-btn right-btn" src="../static/img/오른쪽화살표_빨강.svg" alt="버튼">
        <img id="downBtn" class="result-btn down-btn" src="../static/img/아래쪽화살표_빨강.svg" alt="버튼">
        <img id="leftBtn" class="result-btn left-btn" src="../static/img/왼쪽화살표_빨강.svg" alt="버튼">
        <img id="okBtn" class="result-btn ok-btn" src="../static/img/OK.svg" alt="버튼">
        <a href="../result"><img id="backBtn" class="result-btn back-btn" src="../static/img/왼쪽화살표_파랑.svg" alt="버튼"></a>
    </div>
{% endblock %}

{% block script %}
    const chargerBox = document.querySelector('.charger-wrap');
    const typesTrigger = document.querySelectorAll('.types');
    const types = document.querySelectorAll('.type');
    let typeInput = document.querySelector('#typeInput');

    // 문항 수 표시
    for (let i=0; i<28; i++) {
        const charger = document.createElement('span');
        charger.classList.add('charger');
        chargerBox.appendChild(charger);
    }

    // 유형 자세히 보기
    typesTrigger.forEach( elem => {
        elem.addEventListener('click', function(e) {
            typeInput.value = types[e.target.id].innerText;
        });
    });
{% endblock %}